
; PICBASIC PRO(TM) Compiler 3.0.9.2, (c) 1998, 2016 microEngineering Labs, Inc. All Rights Reserved. 
MPASMX_USED			EQU	1

#define	PBP_PATH	C:\PROGRAM FILES (X86)\PBP3\




        NOLIST
    ifdef PM_USED
        LIST
        include 'M16F6xx.INC'	; PM header
        XALL
        NOLIST
    else
        LIST
        LIST p = 16F690, r = dec, w = -302, c = 255
        INCLUDE "P16F690.INC"	; MPASM  Header
        NOLIST
    endif
        LIST


PBP_HARDWAREDEF  macro
  endm


    __CONFIG _CONFIG1, _INTRC_IO & _PWRTE_ON & _MCLR_OFF & _LVP_OFF



; Define statements.
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00162	DEFINE  CODE_SIZE 4
#define		CODE_SIZE		 4
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00175	DEFINE	CCP1_REG PORTC
#define		CCP1_REG		 PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00176	DEFINE	CCP1_BIT 5
#define		CCP1_BIT		 5
; U:\MECH 307 CODE\TURNSIGNAL.PBP	00006	DEFINE OSC 8
#define		OSC		 8

RAM_START       		EQU	00020h
RAM_END         		EQU	0016Fh
RAM_BANKS       		EQU	00003h
BANK0_START     		EQU	00020h
BANK0_END       		EQU	0007Fh
BANK1_START     		EQU	000A0h
BANK1_END       		EQU	000EFh
BANK2_START     		EQU	00120h
BANK2_END       		EQU	0016Fh
EEPROM_START    		EQU	02100h
EEPROM_END      		EQU	021FFh

; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00012	A00020	R0      VAR     WORD BANK0 SYSTEM       ' System Register
R0              		EQU	RAM_START + 000h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00013	A00022	R1      VAR     WORD BANK0 SYSTEM       ' System Register
R1              		EQU	RAM_START + 002h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00014	A00024	R2      VAR     WORD BANK0 SYSTEM       ' System Register
R2              		EQU	RAM_START + 004h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00015	A00026	R3      VAR     WORD BANK0 SYSTEM       ' System Register
R3              		EQU	RAM_START + 006h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00016	A00028	R4      VAR     WORD BANK0 SYSTEM       ' System Register
R4              		EQU	RAM_START + 008h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00017	A0002A	R5      VAR     WORD BANK0 SYSTEM       ' System Register
R5              		EQU	RAM_START + 00Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00018	A0002C	R6      VAR     WORD BANK0 SYSTEM       ' System Register
R6              		EQU	RAM_START + 00Ch
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00019	A0002E	R7      VAR     WORD BANK0 SYSTEM       ' System Register
R7              		EQU	RAM_START + 00Eh
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00020	A00030	R8      VAR     WORD BANK0 SYSTEM       ' System Register
R8              		EQU	RAM_START + 010h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00026	A00032	FLAGS   VAR     BYTE BANK0 SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 012h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00025	A00033	GOP     VAR     BYTE BANK0 SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 013h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00022	A00034	RM1     VAR     BYTE BANK0 SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 014h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00024	A00035	RM2     VAR     BYTE BANK0 SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 015h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00021	A00036	RR1     VAR     BYTE BANK0 SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 016h
; C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.RAM	00023	A00037	RR2     VAR     BYTE BANK0 SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 017h
; U:\MECH 307 CODE\TURNSIGNAL.PBP	00038	A00038	T           Var	Word        'Pulse Period in milliseconds
_T               		EQU	RAM_START + 018h
; U:\MECH 307 CODE\TURNSIGNAL.PBP	00036	A0003A	speed		Var	BYTE        'user input speed
_speed           		EQU	RAM_START + 01Ah
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00163	PORTL   VAR     PORTA
_PORTL           		EQU	 PORTA
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00164	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00165	TRISL   VAR     TRISA
_TRISL           		EQU	 TRISA
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00166	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
#define _buttonR         	_PORTA??0
#define _ledR            	_PORTA??1
#define _buttonL         	_PORTA??2
#define _ledL            	_PORTA??3
#define _photo           	_PORTA??4
#define _ledRunner       	_PORTB??0
#define _buttonAuto      	_PORTB??6
#define _buttonOn        	_PORTB??7
#define _OSCCON??4       	 OSCCON, 004h
#define _OSCCON??5       	 OSCCON, 005h
#define _OSCCON??6       	 OSCCON, 006h
#define _PORTA??0        	 PORTA, 000h
#define _PORTA??1        	 PORTA, 001h
#define _PORTA??2        	 PORTA, 002h
#define _PORTA??3        	 PORTA, 003h
#define _PORTA??4        	 PORTA, 004h
#define _PORTB??0        	 PORTB, 000h
#define _PORTB??6        	 PORTB, 006h
#define _PORTB??7        	 PORTB, 007h

; Constants.
_Max_Speed       		EQU	0000Fh
	INCLUDE	"TURNSIGNAL.MAC"
	INCLUDE	"C:\PROGRAM FILES (X86)\PBP3\PBPPIC14.LIB"


; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00036	#HEADER
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00060	#CONFIG
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00153	BANK0   $0020, $007F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00154	BANK1   $00A0, $00EF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00155	BANK2   $0120, $016F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00157	EEPROM  $2100, $21FF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00159	    #ERROR "-n option (PBPL) is not supported for this device."
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00160	#ENDIF
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00161	LIBRARY "PBPPIC14"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00162	DEFINE  CODE_SIZE 4

; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00167	include "PBPPIC14.RAM"
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00171	#HEADER
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00175	DEFINE	CCP1_REG PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC16F690.PBPINC	00176	DEFINE	CCP1_BIT 5
; U:\MECH 307 CODE\TURNSIGNAL.PBP	00002	#CONFIG
; U:\MECH 307 CODE\TURNSIGNAL.PBP	00006	DEFINE OSC 8

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00007	OSCCON.4 = 1
	MOVE?CT	001h, _OSCCON??4

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00008	OSCCON.5 = 1
	MOVE?CT	001h, _OSCCON??5

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00009	OSCCON.6 = 1
	MOVE?CT	001h, _OSCCON??6

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00011	ANSEL=0     'Turn off the A/D converter
	MOVE?CB	000h, ANSEL
; U:\MECH 307 CODE\TURNSIGNAL.PBP	00037	Max_Speed	Con	15          'Max relative speed

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00041	TRISA=%00010101				'Designate PORTA Pins as inputs and output
	MOVE?CB	015h, TRISA

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00042	TRISB=%11000000				'Designate PORTB Pins as outputs
	MOVE?CB	0C0h, TRISB

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00045	main:

	LABEL?L	_main	

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00047	High ledR
	HIGH?T	_ledR

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00048	High ledL
	HIGH?T	_ledL

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00049	High ledRunner
	HIGH?T	_ledRunner

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00050	pause 100
	PAUSE?C	064h

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00052	low ledR
	LOW?T	_ledR

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00053	low ledL
	LOW?T	_ledL

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00054	low ledRunner
	LOW?T	_ledRunner

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00055	pause 100
	PAUSE?C	064h

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00057	goto main
	GOTO?L	_main

; U:\MECH 307 CODE\TURNSIGNAL.PBP	00059	End
	END?	

	END
